@model MIEL.web.Models.ViewModel.PurchaseVM
@{
    ViewData["Title"] = "Purchase";
    Layout = "_AdminLayout";
}

<style>
    /* SAME STYLES AS SALE PAGE – NO CHANGES */
    :root {
        --primary: #0d6efd;
        --secondary: #6c757d;
        --success: #198754;
        --border: #dee2e6;
        --bg-light: #f8f9fa;
        --text-dark: #212529;
    }

    body {
        background-color: #f1f3f6;
        font-family: "Segoe UI", Roboto, Arial, sans-serif;
        color: var(--text-dark);
        font-size: 14px;
    }

    .container {
        max-width: 1100px;
        margin: 40px auto;
    }

    .card {
        background: #fff;
        border-radius: 10px;
        box-shadow: 0 4px 20px rgba(0,0,0,.08);
        padding: 25px 30px;
    }

    h2 {
        font-size: 22px;
        font-weight: 600;
        margin-bottom: 25px;
        border-bottom: 1px solid var(--border);
        padding-bottom: 10px;
    }

    fieldset {
        border: 1px solid var(--border);
        border-radius: 8px;
        padding: 20px;
        margin-bottom: 25px;
        background: var(--bg-light);
    }

    legend {
        font-size: 15px;
        font-weight: 600;
        padding: 0 10px;
        color: var(--primary);
    }

    .form-row {
        display: flex;
        gap: 20px;
        margin-bottom: 15px;
    }

    .form-group {
        flex: 1;
        position: relative;
    }

    label {
        font-weight: 500;
        margin-bottom: 6px;
        display: block;
        font-size: 13px;
    }

    input, select {
        width: 100%;
        padding: 8px 10px;
        border: 1px solid var(--border);
        border-radius: 6px;
        font-size: 14px;
    }

    table {
        width: 100%;
        border-collapse: separate;
        border-spacing: 0;
        background: #fff;
        border-radius: 8px;
        overflow: hidden;
    }

    thead th {
        background: #f1f5fb;
        font-weight: 600;
        font-size: 13px;
        padding: 10px;
    }

    tbody td {
        padding: 10px;
        font-size: 13px;
    }

    .actions {
        display: flex;
        justify-content: flex-end;
        gap: 10px;
        margin-top: 25px;
    }

    button {
        padding: 9px 18px;
        border-radius: 6px;
        font-size: 14px;
        border: none;
        cursor: pointer;
    }

    .btn-primary {
        background: var(--primary);
        color: #fff;
    }

    .btn-secondary {
        background: var(--secondary);
        color: #fff;
    }
</style>

<div class="container">
    <div class="card">

        <h2>
            <i class="fas fa-truck-loading me-2"></i>
            Create Purchase
        </h2>

        <form method="post">

            <!-- PURCHASE DETAILS -->
            <fieldset>
                <legend>Purchase Details</legend>

                <div class="form-row">
                    <div class="form-group">
                        <label>Purchase Code</label>
                        <input value="@Model.PurchaseCode" readonly />
                    </div>

                    <div class="form-group">
                        <label>Purchase Date</label>
                        <input type="date" value="@Model.PurchaseDate.ToString("yyyy-MM-dd")" />
                    </div>

                    <div class="form-group">
                        <label>Batch No</label>
                        <input />
                    </div>
                </div>
            </fieldset>

            <!-- SUPPLIER DETAILS -->
            <fieldset>
                <legend>Supplier Details</legend>

                <div class="form-row">
                    <div class="form-group">
                        <label>Supplier Name</label>
                        <input placeholder="Type supplier name..." />
                    </div>

                    <div class="form-group">
                        <label>Mobile</label>
                        <input readonly />
                    </div>
                </div>
            </fieldset>

            <!-- PRODUCT SELECTION -->
            <fieldset>
                <legend>Add Product</legend>

                <div class="form-row">

                    <!-- PRODUCT -->
                    <div class="form-group">
                        <label>Product</label>
                        <input type="text"
                               id="productSearch"
                               placeholder="Type product name..."
                               autocomplete="off" />
                        <input type="hidden" id="productId" />
                    </div>

                    <!-- COLOR -->
                    <div class="form-group">
                        <label>Color</label>
                        <select id="color">
                            <option value="">-- Select Color --</option>
                        </select>
                    </div>

                    <!-- SIZE -->
                    <div class="form-group">
                        <label>Size</label>
                        <select id="size">
                            <option value="">-- Select Size --</option>
                        </select>
                    </div>

                </div>

                <div class="form-row">

                    <!-- COST PRICE -->
                    <div class="form-group">
                        <label>Cost Price</label>
                        <input type="number" id="costPrice" min="0" />
                    </div>

                    <!-- QUANTITY -->
                    <div class="form-group">
                        <label>Quantity</label>
                        <input type="number" id="quantity" min="1" />
                    </div>

                    <!-- AMOUNT -->
                    <div class="form-group">
                        <label>Amount</label>
                        <input id="amount" readonly />
                    </div>

                </div>

                <button type="button" class="btn-primary">Add Item</button>
            </fieldset>

            <!-- PURCHASE ITEMS -->
            <fieldset>
                <legend>Purchase Items</legend>

                <table>
                    <thead>
                        <tr>
                            <th>Product</th>
                            <th>Cost Price</th>
                            <th>Qty</th>
                            <th>Amount</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Kurti</td>
                            <td>900</td>
                            <td>10</td>
                            <td>9000</td>
                        </tr>
                    </tbody>
                </table>
            </fieldset>

            <!-- ACTIONS -->
            <div class="actions">
                <button class="btn-secondary" name="action" value="Draft">Save Draft</button>
            </div>

        </form>
    </div>
</div>